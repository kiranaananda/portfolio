<html>
    
<head>
  <style>.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}</style>
    
  <meta charset="utf-8">
    <title>Kirana Ananda</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator"><link href="index.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  
  <link href="https://static.thenounproject.com/png/4671690-200.png" rel="shortcut icon" type="image/x-icon">
  <link href="https://static.thenounproject.com/png/4671690-200.png" rel="apple-touch-icon">
    
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <script src="https://d3js.org/d3.v7.min.js"></script>

</head>


<body data-new-gr-c-s-check-loaded="14.1155.0" data-gr-ext-installed="">
  <div class="navbar-logo-left">
    <div 
      data-animation="default" 
      data-collapse="medium" 
      data-duration="400" 
      data-easing="ease" 
      data-easing2="ease" 
      role="banner" 
      class="navbar-logo-left-container shadow-three w-nav">
        
    <div class="container">
      <div class="navbar-top">
        <a href="https://kiranaananda.github.io/index.html" class="navbar-brand w-nav-brand"><img src="https://static.thenounproject.com/png/1019185-200.png" width="20px"></a>
          
        <nav role="navigation" class="nav-menu-wrapper w-nav-menu"> 
            <ul role="list" class="nav-menu-two w-list-unstyled"> 
            <li>
                <a href="https://kiranaananda.github.io/portfolio/" class="nav-link-accent">Portfolio</a>
            </li>

            <li class="nav-divider">
            </li>

            <li>
              <a href="https://kiranaananda.github.io/personal.html" class="nav-link-accent">Personal</a>
            </li>
          </ul>
        </nav>
        
          <div class="menu-button w-nav-button" style="-webkit-user-select: text;" aria-label="menu" role="button" tabindex="0" aria-controls="w-nav-overlay-0" aria-haspopup="menu" aria-expanded="false">
          <div class="w-icon-nav-menu"></div></div></div></div><div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-0"></div></div></div>
          <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65d1262592604fbcdfade86f" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
          <script src="https://assets-global.website-files.com/65d1262592604fbcdfade86f/js/webflow.b901f171c.js" type="text/javascript"></script>

<!-- ---------------------------end of header--------------------- -->

<!-- --------------------------- MAIN PORTFOLIO --------------------- -->
<div class="hero-without-image">
<section class="impact-section">
<div class="case-study-container">
  <header class="project-header">
    <div class="tags-row">
      <span class="tag">Market Strategy</span>
      <span class="tag">Data Visualization</span>
      <span class="tag">Consumer Insights</span>
    </div>
    
    <h4 class="font-hand">The Lion Share: A Strategic Turnoaround Analysis</h4>
    <p class="subtitle">Revitalizing a heritage brand through strategic pack diversification.</p>
  </header>
      
<div class="section-divider">
  <span class="knot">✦</span> 
</div>
    
<section class="impact-section">
    <h4 class="font-hand section-title style="margin-bottom: 1rem;">At a Glance</h4>
    
    <div class="card-grid">
      <div class="stitch-card">
       <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg>
       </div>
        <h5>The Dip</h5>
        <p>Market share lost to competitors focusing on "Family" values.</p>
      </div>

      <div class="stitch-card highlight-card">
        <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6" y2="6"></line><line x1="6" y1="18" x2="6" y2="18"></line></svg>
        </div>
        <h5>The Strategy</h5>
        <p class="strong">Pack diversification: shift from single-serving to multi-serving.</p>
      </div>

      <div class="stitch-card">
        <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg>
        </div>
        <h5>The Outcome</h5>
        <p>Roadmap to reclaim leadership via emotional storytelling.</p>
      </div>
    </div>
  </section>
  
  <section class="data-section">
    <div class="chart-container">
    <div class="project-row" style="display: block;">
    <div style="margin-bottom: 20px;">
        <h6>Performance Trends </h6>
        <p class="project-meta">D3.js • Multi-Line Time Series</p>
        <p>A comparative analysis of monthly performance metrics for Lion, Olio, and Festo.</p>
    </div>

    <div id="wrapper" style="width: 100%; min-height: 400px;"></div>
</div>
    </div>
  </section>
  
<section class="source-material-section">
  <div class="pdf-header-row">
    <h5 class="font-hand">The Original Manuscript</h5>
  </div>

  <p class="context-text">
    This is the detailed project. It details the full methodology, the competitive landscape of "Festo vs. Lion," and the complete analysis.
  </p>

  <div class="pdf-window">
    <object data="fmcg-biscuit-long-trend-study.pdf" type="application/pdf" width="100%" height="600px">
      <div class="pdf-fallback">
        <p>Unable to display PDF directly.</p>
        <a href="fmcg-biscuit-long-trend-study.pdf" class="btn-main">View File</a>
      </div>
    </object>
  </div>
</section>

<footer class="project-footer">
  <h5 class="font-hand">Retrospective</h5>
  <p>This project taught me that data is only as good as the story it tells. By identifying the emotional gap, we turned a "biscuit" problem into a "connection" solution.</p>
  <div>
  </div>
    
<div class="section-divider">
  <span class="knot">✦</span> 
</div>
    
    <a href="/portfolio" class="button-primary-3 w-button"> <center>Back to Project List</center></a>
  </footer>

</div>
</section>
</div>
    
<!-- ---------------------------start of footer--------------------- -->
        
  <div class="container">
    <nav class="footer-nav-container">
      <ul role="list" class="footer-nav-list">
        <li>
          <a href="https://www.linkedin.com/in/kiranaananda/" class="footer-nav-accent">
            <img src="https://static.thenounproject.com/png/2386251-200.png" width="20px"> LinkedIn
          </a>
        </li>
        <li>
          <a href="https://www.instagram.com/kiranaananda/" class="footer-nav-accent">
            <img src="https://static.thenounproject.com/png/3350460-200.png" width="20px"> Instagram
          </a>
        </li>
        
        <li class="footer-nav-divider-item">
          <div class="footer-nav-divider"></div>
        </li>

        <li>
          <a href="mailto:kiranadwima@gmail.com" class="footer-nav-accent">
            <img src="https://static.thenounproject.com/png/303076-200.png" width="25px"> Email Me
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<script>
async function drawMultiLineChart() {

    // 1. ACCESS DATA
    let data = await d3.csv("./data.csv");
    const companies = ["Lion", "Olio", "Festo"];
    const dateParser = d3.timeParse("%Y-%m-%d");
    const dateFormatter = d3.timeFormat("%B %Y"); // e.g., "April 2016"
    
    data.forEach(d => {
        d.Date = dateParser(d.Date);
        companies.forEach(c => d[c] = +d[c]);
    });

    // 2. DIMENSIONS
    const wrapper = document.getElementById("wrapper");
    const width = wrapper.clientWidth > 800 ? 800 : wrapper.clientWidth;
    const height = 400;

    const dimensions = {
        width: width,
        height: height,
        margin: { top: 30, right: 80, bottom: 50, left: 60 },
    };

    dimensions.boundedWidth = dimensions.width - dimensions.margin.left - dimensions.margin.right;
    dimensions.boundedHeight = dimensions.height - dimensions.margin.top - dimensions.margin.bottom;

    // 3. DRAW CANVAS
    d3.select("#wrapper").html(""); 
    
    // Create the tooltip div (if it doesn't exist)
    const tooltip = d3.select("body").append("div").attr("id", "tooltip");

    const svg = d3.select("#wrapper")
        .append("svg")
        .attr("width", dimensions.width)
        .attr("height", dimensions.height);

    const bounds = svg.append("g")
        .style("transform", `translate(${dimensions.margin.left}px, ${dimensions.margin.top}px)`);

    // 4. SCALES
    const xScale = d3.scaleTime()
        .domain(d3.extent(data, d => d.Date))
        .range([0, dimensions.boundedWidth]);

    const allValues = data.flatMap(d => companies.map(c => d[c]));
    const yScale = d3.scaleLinear()
        .domain([d3.min(allValues) * 0.9, d3.max(allValues) * 1.1])
        .range([dimensions.boundedHeight, 0]);

    const colorScale = d3.scaleOrdinal()
        .domain(companies)
        .range(["#FF6B6B", "#4ECDC4", "#FFE66D"]);

    // 5. AXES
    bounds.append("g").call(d3.axisLeft().scale(yScale).ticks(5));
    bounds.append("g")
        .style("transform", `translateY(${dimensions.boundedHeight}px)`)
        .call(d3.axisBottom().scale(xScale));

    // 6. DRAW LINES
    const lineGenerator = d3.line()
        .x(d => xScale(d.Date))
        .y(d => yScale(d.value))
        .curve(d3.curveMonotoneX);

    const formattedData = companies.map(company => {
        return {
            name: company,
            values: data.map(d => ({ Date: d.Date, value: d[company] }))
        };
    });

    bounds.selectAll(".line-path")
        .data(formattedData)
        .enter().append("path")
        .attr("class", "line-path")
        .attr("fill", "none")
        .attr("stroke-width", 3)
        .attr("stroke-linejoin", "round")
        .attr("stroke-linecap", "round")
        .attr("d", d => lineGenerator(d.values))
        .attr("stroke", d => colorScale(d.name));

    // 7. LABELS
    bounds.selectAll(".legend-text")
        .data(formattedData)
        .enter().append("text")
        .attr("x", dimensions.boundedWidth + 10)
        .attr("y", d => yScale(d.values[d.values.length - 1].value))
        .text(d => d.name)
        .style("fill", d => colorScale(d.name))
        .style("font-weight", "bold")
        .style("font-size", "12px")
        .attr("alignment-baseline", "middle");

    // ---------------------------------------------------------
    // 8. INTERACTION (THE NEW PART)
    // ---------------------------------------------------------

    // A. Add a vertical line that we will move around
    const hoverLine = bounds.append("line")
        .attr("class", "hover-line")
        .attr("y1", 0)
        .attr("y2", dimensions.boundedHeight);

    // B. Create a transparent rectangle on top to catch mouse events
    const listeningRect = bounds.append("rect")
        .attr("class", "listening-rect")
        .attr("width", dimensions.boundedWidth)
        .attr("height", dimensions.boundedHeight)
        .attr("fill", "transparent") // Invisible
        .on("mousemove", onMouseMove)
        .on("mouseleave", onMouseLeave);

    // C. Logic to find the closest data point
    function onMouseMove(event) {
        const mousePosition = d3.pointer(event);
        const hoveredDate = xScale.invert(mousePosition[0]);

        // Find the closest date in our dataset
        const getDistanceFromHoveredDate = d => Math.abs(d.Date - hoveredDate);
        const closestIndex = d3.scan(data, (a, b) => getDistanceFromHoveredDate(a) - getDistanceFromHoveredDate(b));
        const closestDataPoint = data[closestIndex];
        
        // If we found a point
        if (closestDataPoint) {
            const x = xScale(closestDataPoint.Date);
            const y = mousePosition[1]; // Use mouse Y for tooltip height

            // 1. Show the vertical line
            hoverLine.style("opacity", 1)
                .attr("x1", x).attr("x2", x);

            // 2. Prepare Tooltip HTML
            // Sort companies by value (highest on top) for readability
            const sortedCompanies = companies.slice().sort((a, b) => closestDataPoint[b] - closestDataPoint[a]);
            
            let tooltipHtml = `<span class="tooltip-date">${dateFormatter(closestDataPoint.Date)}</span>`;
            
            sortedCompanies.forEach(company => {
                tooltipHtml += `
                    <div class="tooltip-row">
                        <span>
                            <span class="color-dot" style="background: ${colorScale(company)}"></span>
                            ${company}
                        </span>
                        <b>${closestDataPoint[company].toLocaleString()}</b>
                    </div>
                `;
            });

            // 3. Move and Show Tooltip
            tooltip.style("opacity", 1)
                .html(tooltipHtml)
                .style("left", (event.pageX + 15) + "px")
                .style("top", (event.pageY - 15) + "px");
        }
    }

    function onMouseLeave() {
        hoverLine.style("opacity", 0);
        tooltip.style("opacity", 0);
    }
}

drawMultiLineChart();
</script>
    
</body>

</html>
