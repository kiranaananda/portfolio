<html>
    
<head>
  <style>.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}</style>
    
  <meta charset="utf-8">
    <title>Kirana Ananda</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator"><link href="index.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  
  <link href="https://static.thenounproject.com/png/4671690-200.png" rel="shortcut icon" type="image/x-icon">
  <link href="https://static.thenounproject.com/png/4671690-200.png" rel="apple-touch-icon">
    
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <script src="https://d3js.org/d3.v7.min.js"></script>

</head>


<body data-new-gr-c-s-check-loaded="14.1155.0" data-gr-ext-installed="">
  <div class="navbar-logo-left">
    <div 
      data-animation="default" 
      data-collapse="medium" 
      data-duration="400" 
      data-easing="ease" 
      data-easing2="ease" 
      role="banner" 
      class="navbar-logo-left-container shadow-three w-nav">
        
    <div class="container">
      <div class="navbar-top">
        <a href="https://kiranaananda.github.io/index.html" class="navbar-brand w-nav-brand"><img src="https://static.thenounproject.com/png/1019185-200.png" width="20px"></a>
          
        <nav role="navigation" class="nav-menu-wrapper w-nav-menu"> 
            <ul role="list" class="nav-menu-two w-list-unstyled"> 
            <li>
                <a href="https://kiranaananda.github.io/portfolio/" class="nav-link-accent">Portfolio</a>
            </li>

            <li class="nav-divider">
            </li>

            <li>
              <a href="https://kiranaananda.github.io/personal.html" class="nav-link-accent">Personal</a>
            </li>
          </ul>
        </nav>
        
          <div class="menu-button w-nav-button" style="-webkit-user-select: text;" aria-label="menu" role="button" tabindex="0" aria-controls="w-nav-overlay-0" aria-haspopup="menu" aria-expanded="false">
          <div class="w-icon-nav-menu"></div></div></div></div><div class="w-nav-overlay" data-wf-ignore="" id="w-nav-overlay-0"></div></div></div>
          <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=65d1262592604fbcdfade86f" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
          <script src="https://assets-global.website-files.com/65d1262592604fbcdfade86f/js/webflow.b901f171c.js" type="text/javascript"></script>

<!-- ---------------------------end of header--------------------- -->

<!-- --------------------------- MAIN PORTFOLIO --------------------- -->
<div class="hero-without-image">
<section class="impact-section">
<div class="case-study-container">
  <header class="project-header">
    <div class="tags-row">
      <span class="tag">Market Strategy</span>
      <span class="tag">Data Visualization</span>
      <span class="tag">Consumer Insights</span>
    </div>
    
    <h4 class="font-hand">The Lion Share: A Strategic Turnoaround Analysis</h4>
    <p class="subtitle">Revitalizing a heritage brand through strategic pack diversification.</p>
  </header>
      
<div class="section-divider">
  <span class="knot">✦</span> 
</div>
    
<section class="impact-section">
    <h4 class="font-hand section-title style="margin-bottom: 1rem;">At a Glance</h4>
    
    <div class="card-grid">
      <div class="stitch-card">
       <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg>
       </div>
        <h5>The Dip</h5>
        <p>Market share lost to competitors focusing on "Family" values.</p>
      </div>

      <div class="stitch-card highlight-card">
        <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6" y2="6"></line><line x1="6" y1="18" x2="6" y2="18"></line></svg>
        </div>
        <h5>The Strategy</h5>
        <p class="strong">Pack diversification: shift from single-serving to multi-serving.</p>
      </div>

      <div class="stitch-card">
        <div class="icon-box">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg>
        </div>
        <h5>The Outcome</h5>
        <p>Roadmap to reclaim leadership via emotional storytelling.</p>
      </div>
    </div>
  </section>
  
  <section class="data-section">
    <div class="chart-container">
    <div class="project-row" style="display: block;">
    <div style="margin-bottom: 20px;">
        <h6>Performance Trends </h6>
        <p class="project-meta">D3.js • Multi-Line Time Series</p>
        <p>A comparative analysis of value sales (billion IDR) for Lion, Olio, and Festo.</p>
    </div>

    <div id="wrapper" style="width: 100%; min-height: 400px;"></div>
</div>
    </div>
  </section>
  
<section class="source-material-section">
  <div class="pdf-header-row">
    <h5 class="font-hand">The Original Manuscript</h5>
  </div>

  <p class="context-text">
    This is the detailed project. It details the full methodology, the competitive landscape of "Festo vs. Lion," and the complete analysis.
  </p>

  <div class="pdf-window">
    <object data="fmcg-biscuit-long-trend-study.pdf" type="application/pdf" width="100%" height="600px">
      <div class="pdf-fallback">
        <p>Unable to display PDF directly.</p>
        <a href="fmcg-biscuit-long-trend-study.pdf" class="btn-main">View File</a>
      </div>
    </object>
  </div>
</section>

<footer class="project-footer">
  <h5 class="font-hand">Retrospective</h5>
  <p>This project taught me that data is only as good as the story it tells. By identifying the emotional gap, we turned a "biscuit" problem into a "connection" solution.</p>
  <div>
  </div>
    
<div class="section-divider">
  <span class="knot">✦</span> 
</div>
    
    <a href="/portfolio" class="button-primary-3 w-button"> <center>Back to Project List</center></a>
  </footer>

</div>
</section>
</div>
    
<!-- ---------------------------start of footer--------------------- -->
        
  <div class="container">
    <nav class="footer-nav-container">
      <ul role="list" class="footer-nav-list">
        <li>
          <a href="https://www.linkedin.com/in/kiranaananda/" class="footer-nav-accent">
            <img src="https://static.thenounproject.com/png/2386251-200.png" width="20px"> LinkedIn
          </a>
        </li>
        <li>
          <a href="https://www.instagram.com/kiranaananda/" class="footer-nav-accent">
            <img src="https://static.thenounproject.com/png/3350460-200.png" width="20px"> Instagram
          </a>
        </li>
        
        <li class="footer-nav-divider-item">
          <div class="footer-nav-divider"></div>
        </li>

        <li>
          <a href="mailto:kiranadwima@gmail.com" class="footer-nav-accent">
            <img src="https://static.thenounproject.com/png/303076-200.png" width="25px"> Email Me
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- ---------------------------end of footer--------------------- -->
    
<script>
// --- SHARED UTILS ---
const dateParser = d3.timeParse("%Y-%m-%d");
const dateFormatter = d3.timeFormat("%b %Y"); 

// Helper to get or create the shared tooltip
function getTooltip() {
    let tooltip = d3.select("#global-tooltip");
    if (tooltip.empty()) {
        tooltip = d3.select("body").append("div").attr("id", "global-tooltip");
    }
    return tooltip;
}

// =========================================================
// CHART TYPE A: COMPETITOR COMPARISON (Lion vs Olio...)
// =========================================================
async function drawCompetitorChart(containerId, csvFilePath) {
    const data = await d3.csv(csvFilePath);
    const companies = ["Lion", "Olio", "Festo"];
    
    // Parse Data
    data.forEach(d => {
        d.Date = dateParser(d.Date);
        companies.forEach(c => d[c] = +d[c]);
    });

    // Setup Dimensions
    const wrapper = document.querySelector(containerId);
    if (!wrapper) return; // Safety check
    const width = wrapper.clientWidth;
    const height = 400;
    const margin = { top: 20, right: 80, bottom: 40, left: 60 };
    const boundsWidth = width - margin.left - margin.right;
    const boundsHeight = height - margin.top - margin.bottom;

    // Draw SVG
    d3.select(containerId).html("");
    const svg = d3.select(containerId).append("svg")
        .attr("width", width).attr("height", height);
    const bounds = svg.append("g")
        .style("transform", `translate(${margin.left}px, ${margin.top}px)`);

    // Scales
    const xScale = d3.scaleTime()
        .domain(d3.extent(data, d => d.Date))
        .range([0, boundsWidth]);
    
    const allValues = data.flatMap(d => companies.map(c => d[c]));
    const yScale = d3.scaleLinear()
        .domain([d3.min(allValues)*0.9, d3.max(allValues)*1.1])
        .range([boundsHeight, 0]);

    const colorScale = d3.scaleOrdinal()
        .domain(companies)
        .range(["#FF6B6B", "#4ECDC4", "#FFE66D"]); // Company Colors

    // Axes
    bounds.append("g").call(d3.axisLeft(yScale).ticks(5));
    bounds.append("g").style("transform", `translateY(${boundsHeight}px)`)
        .call(d3.axisBottom(xScale).ticks(6));

    // Lines
    const lineGenerator = d3.line()
        .x(d => xScale(d.Date))
        .y(d => yScale(d.value))
        .curve(d3.curveMonotoneX);

    const formattedData = companies.map(c => ({
        name: c,
        values: data.map(d => ({ Date: d.Date, value: d[c] }))
    }));

    bounds.selectAll(".line-path")
        .data(formattedData).enter().append("path")
        .attr("class", "line-path")
        .attr("fill", "none")
        .attr("stroke-width", 3)
        .attr("d", d => lineGenerator(d.values))
        .attr("stroke", d => colorScale(d.name));

    // Labels at end of line
    bounds.selectAll(".label")
        .data(formattedData).enter().append("text")
        .attr("x", boundsWidth + 10)
        .attr("y", d => yScale(d.values[d.values.length-1].value))
        .text(d => d.name)
        .style("fill", d => colorScale(d.name))
        .style("font-weight", "bold")
        .style("font-size", "12px")
        .attr("alignment-baseline", "middle");

    // Interaction
    addInteraction(bounds, width, height, data, xScale, companies, colorScale);
}

// =========================================================
// CHART TYPE B: BRAND PROFILE (Top of Mind vs Loyalty...)
// =========================================================
async function drawBrandChart(containerId, csvFilePath) {
    const data = await d3.csv(csvFilePath);
    // These must match your CSV headers exactly!
    const metrics = ["Top of Mind", "Spontaneous", "Regularly", "Most Often"];

    // Parse Data
    data.forEach(d => {
        d.Date = dateParser(d.Date);
        metrics.forEach(m => d[m] = +d[m]);
    });

    // Setup Dimensions (Smaller height for grid)
    const wrapper = document.querySelector(containerId);
    if (!wrapper) return;
    const width = wrapper.clientWidth;
    const height = 350;
    const margin = { top: 20, right: 20, bottom: 40, left: 40 };
    const boundsWidth = width - margin.left - margin.right;
    const boundsHeight = height - margin.top - margin.bottom;

    // Draw SVG
    d3.select(containerId).html("");
    const svg = d3.select(containerId).append("svg")
        .attr("width", width).attr("height", height);
    const bounds = svg.append("g")
        .style("transform", `translate(${margin.left}px, ${margin.top}px)`);

    // Scales
    const xScale = d3.scaleTime()
        .domain(d3.extent(data, d => d.Date))
        .range([0, boundsWidth]);
    
    // Funnel usually 0 to 100, or max value found
    const allValues = data.flatMap(d => metrics.map(m => d[m]));
    const yScale = d3.scaleLinear()
        .domain([0, d3.max(allValues)*1.1])
        .range([boundsHeight, 0]);

    // Metric Colors (Blue -> Teal -> Yellow -> Red)
    const colorScale = d3.scaleOrdinal()
        .domain(metrics)
        .range(["#A0C4FF", "#72EFDD", "#FFD166", "#EF476F"]);

    // Axes
    bounds.append("g").call(d3.axisLeft(yScale).ticks(5));
    bounds.append("g").style("transform", `translateY(${boundsHeight}px)`)
        .call(d3.axisBottom(xScale).ticks(4).tickFormat(d3.timeFormat("%b %y")))
        .style("font-size", "10px");

    // Lines
    const lineGenerator = d3.line()
        .x(d => xScale(d.Date))
        .y(d => yScale(d.value))
        .curve(d3.curveMonotoneX);

    const formattedData = metrics.map(m => ({
        name: m,
        values: data.map(d => ({ Date: d.Date, value: d[m] }))
    }));

    bounds.selectAll(".line-path")
        .data(formattedData).enter().append("path")
        .attr("class", "line-path")
        .attr("fill", "none")
        .attr("stroke-width", 2.5)
        .attr("d", d => lineGenerator(d.values))
        .attr("stroke", d => colorScale(d.name));

    // Interaction
    addInteraction(bounds, boundsWidth, boundsHeight, data, xScale, metrics, colorScale);
}

// =========================================================
// SHARED INTERACTION LOGIC (The Hover Magic)
// =========================================================
function addInteraction(bounds, w, h, data, xScale, keys, colorScale) {
    const tooltip = getTooltip();
    
    const hoverLine = bounds.append("line")
        .attr("y1", 0).attr("y2", h)
        .attr("stroke", "#999")
        .attr("stroke-dasharray", "4 4")
        .style("opacity", 0);

    const listeningRect = bounds.append("rect")
        .attr("width", w).attr("height", h)
        .attr("fill", "transparent")
        .on("mousemove", function(event) {
            const [mouseX] = d3.pointer(event);
            const hoveredDate = xScale.invert(mouseX);
            
            // Find closest date
            const getDist = d => Math.abs(d.Date - hoveredDate);
            const closestIndex = d3.scan(data, (a, b) => getDist(a) - getDist(b));
            const d = data[closestIndex];

            if (d) {
                const x = xScale(d.Date);
                hoverLine.style("opacity", 1).attr("x1", x).attr("x2", x);
                
                // Sort keys by value (highest on top)
                const sortedKeys = keys.slice().sort((a,b) => d[b] - d[a]);

                let html = `<span class="tooltip-date">${dateFormatter(d.Date)}</span>`;
                sortedKeys.forEach(k => {
                    html += `<div class="tooltip-row">
                        <span><span class="color-dot" style="background:${colorScale(k)}"></span>${k}</span>
                        <b>${d[k].toLocaleString()}</b>
                    </div>`;
                });

                tooltip.style("opacity", 1).html(html)
                    .style("left", (event.pageX + 15) + "px")
                    .style("top", (event.pageY - 15) + "px");
            }
        })
        .on("mouseleave", () => {
            hoverLine.style("opacity", 0);
            tooltip.style("opacity", 0);
        });
}

// =========================================================
// EXECUTE
// =========================================================

// 1. Draw the Competitor Chart
drawCompetitorChart("#wrapper-revenue", "./data_revenue.csv");

// 2. Draw the Brand Charts
drawBrandChart("#chart-lion",  "./data_lion.csv");
drawBrandChart("#chart-olio",  "./data_olio.csv");
drawBrandChart("#chart-festo", "./data_festo.csv");

</script>
    
</body>

</html>
